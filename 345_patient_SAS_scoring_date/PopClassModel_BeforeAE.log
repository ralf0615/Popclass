1                                        The WPS System   10:27 Wednesday, October 17, 2018     

NOTE: (c) Copyright World Programming Limited 2002-2018.  All rights reserved.
NOTE: World Programming System 4.00 (04.00.01.00.006515)
      Licensed to Truven Health Analytics, DR Licence for L13147
NOTE: This session is executing on the AIX platform and is running in 64 bit mode

NOTE: AUTOEXEC processing beginning; file is /opt/WPS/wps-4.0.1/autoexec.sas
NOTE: Library arch1990 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1990/

NOTE: Library arch1991 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1991/

NOTE: Library arch1992 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1992/

NOTE: Library arch1993 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1993/

NOTE: Library arch1994 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1994/

NOTE: Library arch1995 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1995/

NOTE: Library arch1996 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1996/

NOTE: Library arch1997 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1997/

NOTE: Library arch1998 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1998/

NOTE: Library arch1999 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1999/

NOTE: Library arch2000 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2000/

NOTE: Library arch2001 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2001/
2                                        The WPS System   10:27 Wednesday, October 17, 2018     


NOTE: Library arch2002 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2002/

NOTE: Library arch2003 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2003/

NOTE: Library arch2004 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2004/

NOTE: Library arch2005 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2005/

NOTE: Library arch2006 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2006/

NOTE: Library arch2007 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2007/

NOTE: Library arch2008 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2008/

NOTE: Library arch2009 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2009/

NOTE: Library arch2010 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2010/

NOTE: Library arch2011 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2011/

NOTE: Library arch2012 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2012/

NOTE: Library arch2013 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2013/

NOTE: Library arch2014 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2014/

3                                        The WPS System   10:27 Wednesday, October 17, 2018     

NOTE: Library arch2015 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2015/

NOTE: Library arch2016 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2016/

NOTE: Library arch2017 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2017/

NOTE: Library meg1996 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1996/meg/

NOTE: Library meg1997 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1997/meg/

NOTE: Library meg1998 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1998/meg/

NOTE: Library meg1999 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1999/meg/

NOTE: Library meg2000 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2000/meg/

NOTE: Library meg2001 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2001/meg/

NOTE: Library meg2002 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2002/meg/

NOTE: Library meg2003 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2003/meg/

NOTE: Library meg2004 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2004/meg/

NOTE: Library meg2005 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2005/meg/

NOTE: Library meg2006 assigned as follows:
4                                        The WPS System   10:27 Wednesday, October 17, 2018     

      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2006/meg/

NOTE: Library meg2007 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2007/meg/

NOTE: Library meg2008 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2008/meg/

NOTE: Library meg2009 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2009/meg/

NOTE: Library meg2010 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2010/meg/

NOTE: Library meg2011 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2011/meg/

NOTE: Library meg2012 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2012/meg/

NOTE: Library meg2013 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2013/meg/

NOTE: Library meg2014 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2014/meg/

NOTE: Library meg2015 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2015/meg/

NOTE: Library meg2016 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2016/meg/

NOTE: Library meg2017 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2017/meg/

NOTE: Library mdcd1999 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/1999/

NOTE: Library mdcd2000 assigned as follows:
      Engine:        SAS7BDAT
5                                        The WPS System   10:27 Wednesday, October 17, 2018     

      Physical Name: /mscan/data/medicaid/2000/

NOTE: Library mdcd2001 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2001/

NOTE: Library mdcd2002 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2002/

NOTE: Library mdcd2003 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2003/

NOTE: Library mdcd2004 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2004/

NOTE: Library mdcd2005 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2005/

NOTE: Library mdcd2006 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2006/

NOTE: Library mdcd2007 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2007/

NOTE: Library mdcd2008 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2008/

NOTE: Library mdcd2009 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2009/

NOTE: Library mdcd2010 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2010/

NOTE: Library mdcd2011 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2011/

NOTE: Library mdcd2012 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2012/

NOTE: Library mdcd2013 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2013/
6                                        The WPS System   10:27 Wednesday, October 17, 2018     


NOTE: Library mdcd2014 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2014/

NOTE: Library mdcd2015 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2015/

NOTE: Library mdcd2016 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2016/

NOTE: Library mdcd2017 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2017/

NOTE: Library eview assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/earlyview/

NOTE: Library eviewmon assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/earlyview_monthly/

NOTE: Library mslab assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/lab/

NOTE: Library msn1 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /msn1/data/marketscan_one/

NOTE: Library msprov assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/marketscan_provider/

NOTE: Library redbook assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/redbook/

NOTE: Library bpd assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/bpd/

NOTE: Library loincdb assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/loincdb/

NOTE: Library library assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /hic/data/formats/

7                                        The WPS System   10:27 Wednesday, October 17, 2018     

NOTE: Library mdcdfmt assigned as follows:
      Engine:        WPD
      Physical Name: /mscan/data/medicaid/formats

NOTE: Library mdcdproc assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/procedures

NOTE: Library arch2014 assigned as follows:
      Engine:        WPD
      Physical Name: /mscan4/data/archive/2014/

NOTE: Library arch2015 assigned as follows:
      Engine:        WPD
      Physical Name: /mscan4/data/archive/2015/

NOTE: Library arch2016 assigned as follows:
      Engine:        WPD
      Physical Name: /mscan4/data/archive/2016/

NOTE: Library arch2017 assigned as follows:
      Engine:        WPD
      Physical Name: /mscan4/data/archive/2017/

NOTE: Library meg2014 assigned as follows:
      Engine:        WPD
      Physical Name: /mscan4/data/archive/2014/meg/

NOTE: Library meg2015 assigned as follows:
      Engine:        WPD
      Physical Name: /mscan4/data/archive/2015/meg/

NOTE: Library meg2016 assigned as follows:
      Engine:        WPD
      Physical Name: /mscan4/data/archive/2016/meg/

NOTE: Library meg2017 assigned as follows:
      Engine:        WPD
      Physical Name: /mscan4/data/archive/2017/meg/

NOTE: Library library assigned as follows:
      Engine:        WPD
      Physical Name: /hic/data/formats/wps

NOTE: AUTOEXEC processing completed

1         %include '/opt/SAS94/SASFoundation/9.4/autoexec.sas';
NOTE: Library arch1990 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1990/

NOTE: Library arch1991 assigned as follows:
      Engine:        SAS7BDAT
8                                        The WPS System   10:27 Wednesday, October 17, 2018     

      Physical Name: /mscan/data/archive/1991/

NOTE: Library arch1992 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1992/

NOTE: Library arch1993 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1993/

NOTE: Library arch1994 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1994/

NOTE: Library arch1995 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1995/

NOTE: Library arch1996 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1996/

NOTE: Library arch1997 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1997/

NOTE: Library arch1998 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1998/

NOTE: Library arch1999 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1999/

NOTE: Library arch2000 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2000/

NOTE: Library arch2001 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2001/

NOTE: Library arch2002 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2002/

NOTE: Library arch2003 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2003/

NOTE: Library arch2004 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2004/
9                                        The WPS System   10:27 Wednesday, October 17, 2018     


NOTE: Library arch2005 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2005/

NOTE: Library arch2006 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2006/

NOTE: Library arch2007 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2007/

NOTE: Library arch2008 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2008/

NOTE: Library arch2009 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2009/

NOTE: Library arch2010 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2010/

NOTE: Library arch2011 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2011/

NOTE: Library arch2012 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2012/

NOTE: Library arch2013 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2013/

NOTE: Library arch2014 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2014/

NOTE: Library arch2015 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2015/

NOTE: Library arch2016 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2016/

NOTE: Library arch2017 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2017/

10                                       The WPS System   10:27 Wednesday, October 17, 2018     

NOTE: Library meg1996 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1996/meg/

NOTE: Library meg1997 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1997/meg/

NOTE: Library meg1998 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1998/meg/

NOTE: Library meg1999 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/1999/meg/

NOTE: Library meg2000 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2000/meg/

NOTE: Library meg2001 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2001/meg/

NOTE: Library meg2002 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2002/meg/

NOTE: Library meg2003 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2003/meg/

NOTE: Library meg2004 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2004/meg/

NOTE: Library meg2005 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2005/meg/

NOTE: Library meg2006 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2006/meg/

NOTE: Library meg2007 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2007/meg/

NOTE: Library meg2008 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2008/meg/

NOTE: Library meg2009 assigned as follows:
11                                       The WPS System   10:27 Wednesday, October 17, 2018     

      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2009/meg/

NOTE: Library meg2010 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2010/meg/

NOTE: Library meg2011 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2011/meg/

NOTE: Library meg2012 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/2012/meg/

NOTE: Library meg2013 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2013/meg/

NOTE: Library meg2014 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2014/meg/

NOTE: Library meg2015 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2015/meg/

NOTE: Library meg2016 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2016/meg/

NOTE: Library meg2017 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/archive/2017/meg/

NOTE: Library mdcd1999 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/1999/

NOTE: Library mdcd2000 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2000/

NOTE: Library mdcd2001 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2001/

NOTE: Library mdcd2002 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2002/

NOTE: Library mdcd2003 assigned as follows:
      Engine:        SAS7BDAT
12                                       The WPS System   10:27 Wednesday, October 17, 2018     

      Physical Name: /mscan/data/medicaid/2003/

NOTE: Library mdcd2004 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2004/

NOTE: Library mdcd2005 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2005/

NOTE: Library mdcd2006 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2006/

NOTE: Library mdcd2007 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2007/

NOTE: Library mdcd2008 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2008/

NOTE: Library mdcd2009 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2009/

NOTE: Library mdcd2010 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2010/

NOTE: Library mdcd2011 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2011/

NOTE: Library mdcd2012 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2012/

NOTE: Library mdcd2013 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2013/

NOTE: Library mdcd2014 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2014/

NOTE: Library mdcd2015 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2015/

NOTE: Library mdcd2016 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2016/
13                                       The WPS System   10:27 Wednesday, October 17, 2018     


NOTE: Library mdcd2017 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/2017/

NOTE: Library eview assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/earlyview/

NOTE: Library eviewmon assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan2/data/earlyview_monthly/

NOTE: Library mslab assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/lab/

NOTE: Library msn1 assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /msn1/data/marketscan_one/

NOTE: Library msprov assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/marketscan_provider/

NOTE: Library redbook assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/redbook/

NOTE: Library bpd assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/archive/bpd/

NOTE: Library loincdb assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/loincdb/

NOTE: Library library assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /hic/data/formats/

NOTE: Library mdcdfmt assigned as follows:
      Engine:        WPD
      Physical Name: /mscan/data/medicaid/formats

NOTE: Library mdcdproc assigned as follows:
      Engine:        SAS7BDAT
      Physical Name: /mscan/data/medicaid/procedures

387       
388       Options obs=max mprint mlogic;
389       
390       %Let Prevyear=2013;
14                                       The WPS System   10:27 Wednesday, October 17, 2018     

391       %Let     year=2014;
392       %Let Nextyear=2015;
393       %Let MSversionPrev=133;
394       %Let MSversion    =143;
395       %Let MSversionNext=152;
396       %Let StartDate='31DEC2014'd; /* always choose the end of month */
397       %let version=31DEC2014Client450_10162018;
398       %Let AEoutpath=/rpscan/u071439/AEout/&version.;
399       %Let outpath=/rpscan/u071439/output/&version.;
400       %Let username=yl;
401       %Let createMScopy=0;  /* set this to 1 if we want to create the MarketScan version */
402       %Let skipImport=1; /* set this to 1 if we create directly the SAS dataset SamplewClass
402     ! ification and we want to skip the import */
403       
404       x "mkdir -p /rpscan/u071439/temp/&version.";
405       x "mkdir -p /rpscan/u071439/AEout/&version.";
406       x "mkdir -p /rpscan/u071439/output/&version.";
407       libname temp "/rpscan/u071439/temp/&version.";
NOTE: Library temp assigned as follows:
      Engine:        WPD
      Physical Name: /rpscan/u071439/temp/31DEC2014Client450_10162018

408       
409       %macro libsetup;
410       %if &createMScopy.=1 %then %do;
411       libname arch&year. "/rpscan/u071439/temp/&version.";
412       libname arch&Nextyear. "/rpscan/u071439/temp/&version.";
413       %end;
414       %mend libsetup;
415       
416       
417       /** create a copy of MarketScan for the timeframe defined by 1 year prior and after th
417     ! e &StartDate **/
418       %macro MarketScansetup;
419       %if &createMScopy.=1 %then %do;
420       
421       * create a clone MarketScan INPATIENT data based on the reference date and looking bac
421     ! k 1 year, same for the forward year *;
422       	data temp.ccaei&MSversion.;
423       	set
424       		arch&year..ccaei&MSversion.(where=(admdate <= &StartDate.))
425       		arch&Prevyear..ccaei&MSversionPrev.(where=(admdate > &StartDate. - 366));
426       	keep
427       		ENROLID
428       		PDXCAT
429       		ADMDATE
430       		DISDATE
431       		DRG
432       		ADMTYP
433       		TOTPAY
434       		DSTATUS;
435       	run;
436       	data temp.ccaei&MSversionNext.;
15                                       The WPS System   10:27 Wednesday, October 17, 2018     

437       	set
438       		arch&Nextyear..ccaei&MSversionNext.(where=(admdate <= &StartDate. + 366))
439       		arch&year..ccaei&MSversion.(where=(admdate > &StartDate.)) ;
440       	keep
441       		ENROLID
442       		ADMDATE
443       		DRG
444       		TOTPAY
445       		DSTATUS;
446       	run;
447       
448       * create a clone MarketScan OUTPATIENT data based on the reference date and looking ba
448     ! ck 1 year, same for the forward year *;
449       	data temp.ccaeo&MSversion.;
450       	set
451       		arch&year..ccaeo&MSversion.(where=(svcdate <= &StartDate.) in=a)
452       		arch&Prevyear..ccaeo&MSversionPrev.(where=(svcdate > &StartDate. - 366) in=b);
453       	keep
454       		ENROLID
455       		FACPROF
456       		SEQNUM
457       		AGE
458       		SEX
459       		PROC1
460       		DX1-DX4
461       		%if &Prevyear. >= 2015 %then DXVER;
462       		SVCSCAT
463       		SVCDATE
464       		MSCLMID
465       		FACHDID
466       		PROCGRP
467       		DXCAT
468       		STDPROV
469       		PAY
470       		;
471       	SEQNUM=_n_; /*avoid duplicated SEQNUM from different years */
472       	if a then FACHDID=10**11+FACHDID; /* avoid duplicates for FACHDID, modify it only for
472     !  current year, numeric length is 6 max=132E9 */
473       	if a then MSCLMID=10**11+MSCLMID; /* avoid duplicates for MSCLMID, modify it only for
473     !  current year, numeric length is 6 max=132E9 */
474       	run;
475       	data temp.ccaeo&MSversionNext.;
476       	set
477       		arch&Nextyear..ccaeo&MSversionNext.(where=(svcdate <= &StartDate. + 366) in=b)
478       		arch&year..ccaeo&MSversion.(where=(svcdate > &StartDate.) in=a);		
479       	keep
480       		ENROLID
481       		SVCDATE
482       		PAY
483       		FACPROF
484       		SVCSCAT
485       		PROC1
486       		MSCLMID
16                                       The WPS System   10:27 Wednesday, October 17, 2018     

487       		FACHDID;
488       	if a then FACHDID=10**11+FACHDID; /* avoid duplicates for FACHDID, modify it only for
488     !  current year, numeric length is 6 max=132E9 */
489       	if a then MSCLMID=10**11+MSCLMID; /* avoid duplicates for MSCLMID, modify it only for
489     !  current year, numeric length is 6 max=132E9 */
490       	run;
491       
492       
493       * create a clone MarketScan DRUGS data based on the reference date and looking back 1 
493     ! year, same for the forward year *;
494       	data temp.ccaed&MSversion.;
495       	set
496       		arch&year..ccaed&MSversion.(where=(svcdate <= &StartDate.))
497       		arch&Prevyear..ccaed&MSversionPrev.(where=(svcdate > &StartDate. - 366));
498       	keep
499       		ENROLID
500       		SVCDATE
501       		DAYSUPP
502       		NDCNUM
503       		GENERID
504       		THERCLS
505       		PAY;
506       	run;
507       	data temp.ccaed&MSversionNext.;
508       	set
509       		arch&Nextyear..ccaed&MSversionNext.(where=(svcdate <= &StartDate. + 366))
510       		arch&year..ccaed&MSversion.(where=(svcdate > &StartDate.));		
511       	keep
512       		ENROLID
513       		SVCDATE
514       		PAY;
515       	run;
516       
517       * create a clone MarketScan INPATIENT SERVICES, _S_ data based on the reference date a
517     ! nd looking back 1 year, same for the forward year *;
518       	data temp.ccaes&MSversion.;
519       	set
520       		arch&year..ccaes&MSversion.(where=(svcdate <= &StartDate.))
521       		arch&Prevyear..ccaes&MSversionPrev.(where=(svcdate > &StartDate. - 366));
522       	keep
523       		ENROLID
524       		SEQNUM
525       		AGE
526       		SEX
527       		PROC1
528       		%if &Prevyear. >= 2015 %then DXVER;
529       		DX1-DX4
530       		ADMTYP
531       		SVCSCAT
532       		SVCDATE;
533       	SEQNUM=_n_; /*avoid duplicated of SEQNUM from different years */
534       	run;
535       
17                                       The WPS System   10:27 Wednesday, October 17, 2018     

536       * create a clone MarketScan OUTPATIENT FACILITY HEADERS, _F_ data based on the referen
536     ! ce date and looking back 1 year, same for the forward year *;
537       	data temp.ccaef&MSversion.;
538       	set
539       		arch&year..ccaef&MSversion.(where=(svcdate <= &StartDate.) in=a)
540       		arch&Prevyear..ccaef&MSversionPrev.(where=(svcdate > &StartDate. - 366) in=b);
541       	keep
542       		ENROLID
543       		SVCDATE
544       		TSVCDAT
545       		DAYS
546       		FACHDID
547       		CASEID;
548       	if a then FACHDID=10**11+FACHDID; /* avoid duplicates for FACHDID, modify it only for
548     !  current year, numeric length is 6 max=132E9 */
549       	if a then CASEID=10**11+CASEID;   /* avoid duplicates for CASEID, modify it only for 
549     ! current year, numeric length is 6 max=132E9 */
550       	run;
551       	data temp.ccaef&MSversionNext.;
552       	set
553       		arch&Nextyear..ccaef&MSversionNext.(where=(svcdate <= &StartDate. + 366) in=b)
554       		arch&year..ccaef&MSversion.(where=(svcdate > &StartDate.) in=a);		
555       	keep
556       		ENROLID
557       		FACHDID
558       		CASEID;
559       	if a then FACHDID=10**11+FACHDID; /* avoid duplicates for FACHDID, modify it only for
559     !  current year, numeric length is 6 max=132E9 */
560       	if a then CASEID=10**11+CASEID;   /* avoid duplicates for CASEID, modify it only for 
560     ! current year, numeric length is 6 max=132E9 */
561       	run;
562       
563       * create a clone MarketScan ENROLLMENT FILE data based on the reference date and looki
563     ! ng back 1 year, same for the forward year *;
564       	data temp.ccaea&MSversion.;
565       	merge 		
566       		arch&year..ccaea&MSversion.(keep=enrolid age sex msa rx enrind1-enrind%sysfunc(month
566     ! (&StartDate.)) plntyp1-plntyp%sysfunc(month(&StartDate.)) in=a)
567       		arch&Prevyear..ccaea&MSversionPrev.(keep=enrolid enrind%eval(%sysfunc(month(&StartDa
567     ! te.))+1)-enrind12 plntyp%eval(%sysfunc(month(&StartDate.))+1)-plntyp12 in=b);
568       	by ENROLID;
569       	array e[12] enrind1-enrind12;
570       	if a;
571       	do i=1 to 12;
572       		e[i]=max(e[i],0);
573       	end;
574       	run;
575       
576       	data temp.ccaea&MSversionNext.;
577       	merge 		
578       		arch&year..ccaea&MSversion.(keep=enrolid age sex msa rx enrind%eval(%sysfunc(month(&
578     ! StartDate.))+1)-enrind12 plntyp%eval(%sysfunc(month(&StartDate.))+1)-plntyp12 in=a)
579       		arch&Nextyear..ccaea&MSversionNext.(keep=enrolid enrind1-enrind%sysfunc(month(&Start
18                                       The WPS System   10:27 Wednesday, October 17, 2018     

579     ! Date.)) plntyp1-plntyp%sysfunc(month(&StartDate.)) in=b);
580       	by ENROLID;
581       	array e[12] enrind1-enrind12;
582       	if a;
583       	do i=1 to 12;
584       		e[i]=max(e[i],0);
585       	end;
586       	run;
587       	
588       %end;
589       %mend MarketScansetup;
590       
591       %MarketScansetup;
MLOGIC(MARKETSCANSETUP): Beginning execution
MLOGIC(MARKETSCANSETUP): %IF condition &createMScopy.=1  evaluated to FALSE
MLOGIC(MARKETSCANSETUP): Ending execution
592       %libsetup;
MLOGIC(LIBSETUP): Beginning execution
MLOGIC(LIBSETUP): %IF condition &createMScopy.=1  evaluated to FALSE
MLOGIC(LIBSETUP): Ending execution
593       
594       
595       *** summarize the inpatient data ***;
596       ************************************;
597       
598       *** get all the inpatient data from the matched IDs;
599       PROC SQL;
600       Create Table trash201 as select
601       	a.enrolid,
602       	a.pdxcat,
603       	a.admdate,
604       	a.disdate,
605       	a.drg,
606       	a.admtyp,
607       	a.totpay,
608       	a.dstatus
609       From
610       	arch&year..ccaei&MSversion.			as a,
611       	temp.SamplewClassification	as b
612       Where
613       	a.enrolid=b.enrolid
614       Order by
615       	a.enrolid,
616       	a.admdate;
NOTE: Data set "WORK.trash201" has 5098 observation(s) and 8 variable(s)
617       
618       *** bring in the chronic/acute info based on principal PDx;
619       Create Table temp.SampleInp1 as select
620       	a.*,
621       	b.category
622       From
623       	trash201					as a
624       Left Join
19                                       The WPS System   10:27 Wednesday, October 17, 2018     

625       	temp.GeneralAssignments		as b
626       On
627       	a.pdxcat=b.dxcat
628       Order by
629       	a.enrolid,
630       	a.admdate;
NOTE: Data set "TEMP.SampleInp1" has 5098 observation(s) and 9 variable(s)
631       ;
632       Quit;
NOTE: Procedure SQL step took :
      real time : 10.505
      cpu time  : 1.866


633       
634       /*** check some counts of patients/admissions in the data selected above;
635       PROC SQL;
636       select count (distinct enrolid) as count_ids from temp.SampleInp1;
637       select mean(count_admits) as average_admits from (select enrolid format=15.0, count(di
637     ! stinct admdate) as count_admits from temp.SampleInp1 group by enrolid);*/
638       
639       PROC SQL;
640       *** count the unique(ENROLID+admdate) admits in the past 3 months;
641       Create View work.trash202 as
642       		Select
643       			enrolid,
644       			count(distinct admdate) as CountAdm3mAll
645       		From
646       			temp.SampleInp1
647       		Where
648       			admdate > &StartDate. - 90
649       		Group By
650       			enrolid;
NOTE: View WORK.trash202 successfully created
651       
652       *** count the unique(ENROLID+admdate) Chronic admits based on the principal PDx in the
652     !  past 3 months;
653       Create View work.trash203 as
654       		Select
655       			enrolid,
656       			count(distinct admdate) as CountAdm3mChronic
657       		From
658       			temp.SampleInp1
659       		Where
660       			admdate > &StartDate. - 90 and
661       			category='Chronic'
662       		Group By
663       			enrolid;
NOTE: View WORK.trash203 successfully created
664       
665       *** count the uniqu(ENROLID+admdate) admits in the past 6 months;
666       Create View work.trash204 as
667       		Select
20                                       The WPS System   10:27 Wednesday, October 17, 2018     

668       			enrolid,
669       			count(distinct admdate) as CountAdm6mAll
670       		From
671       			temp.SampleInp1
672       		Where
673       			admdate > &StartDate. - 180
674       		Group By
675       			enrolid;
NOTE: View WORK.trash204 successfully created
676       
677       *** count the unique(ENROLID+admdate) Chronic admits based on the principal PDx in the
677     !  past 6 months;
678       Create View work.trash205 as
679       		Select
680       			enrolid,
681       			count(distinct admdate) as CountAdm6mChronic
682       		From
683       			temp.SampleInp1
684       		Where
685       			admdate > &StartDate. - 180 and
686       			category='Chronic'
687       		Group By
688       			enrolid;
NOTE: View WORK.trash205 successfully created
689       
690       *** sum all LOS in the past 90 days;
691       Create View work.trash206 as
692       		Select
693       			enrolid,
694       			sum(disdate-admdate+1) as SumLOS3mAll
695       		From
696       			temp.SampleInp1
697       		Where
698       			admdate > &StartDate. - 90
699       		Group By
700       			enrolid;
NOTE: View WORK.trash206 successfully created
701       
702       *** Days to the last admission(admdate) in the past year;
703       Create View work.trash207 as
704       		Select
705       			enrolid,
706       			&StartDate. - max(admdate) as DaysAnyAdm
707       		From
708       			temp.SampleInp1
709       		Group By
710       			enrolid;
NOTE: View WORK.trash207 successfully created
711       
712       *** Days to the last chronic admission(admdate) in the past year;
713       Create View work.trash208 as
714       		Select
715       			enrolid,
21                                       The WPS System   10:27 Wednesday, October 17, 2018     

716       			&StartDate. - max(admdate) as DaysChronicAdm
717       		From
718       			temp.SampleInp1
719       		Where
720       			category='Chronic'
721       		Group By
722       			enrolid;
NOTE: View WORK.trash208 successfully created
723       
724       *** Days to the last surgical admission(admdate) in the past year;
725       Create View work.trash209 as
726       		Select
727       			enrolid,
728       			&StartDate. - max(admdate) as DaysSurgAdm
729       		From
730       			temp.SampleInp1
731       		Where
732       			admtyp='1'
733       		Group By
734       			enrolid;
NOTE: View WORK.trash209 successfully created
735       
736       *** Days to the last medical admission(admdate) in the past year;
737       Create View work.trash210 as
738       		Select
739       			enrolid,
740       			&StartDate. - max(admdate) as DaysMedicalAdm
741       		From
742       			temp.SampleInp1
743       		Where
744       			admtyp='2'
745       		Group By
746       			enrolid;
NOTE: View WORK.trash210 successfully created
747       
748       *** Days to the last maternity admission(admdate) in the past year;
749       Create View work.trash211 as
750       		Select
751       			enrolid,
752       			&StartDate. - max(admdate) as DaysMtrntyAdm
753       		From
754       			temp.SampleInp1
755       		Where
756       			admtyp='3'
757       		Group By
758       			enrolid;
NOTE: View WORK.trash211 successfully created
759       
760       *** Days to the last mental health/substance abuse admission(admdate) in the past year
760     ! ;
761       Create View work.trash212 as
762       		Select
763       			enrolid,
22                                       The WPS System   10:27 Wednesday, October 17, 2018     

764       			&StartDate. - max(admdate) as DaysMHSAAdm
765       		From
766       			temp.SampleInp1
767       		Where
768       			admtyp='4'
769       		Group By
770       			enrolid;
NOTE: View WORK.trash212 successfully created
771       Quit;
NOTE: Procedure SQL step took :
      real time : 0.203
      cpu time  : 0.007


772       
773       *** put all the inpatient related variables together;
774       DATA
775       	work.trash213;
776       Merge
777       	trash202(in=a)
778       	trash203(in=b)
779       	trash204(in=c)
780       	trash205(in=d)
781       	trash206(in=e)
782       	trash207(in=f)
783       	trash208(in=g)
784       	trash209(in=h)
785       	trash210(in=i)
786       	trash211(in=j)
787       	trash212(in=k);
788       By
789       	enrolid;
790       If
791       	a or b or c or d or e or f or g or h or i or j or k;
792       run;

NOTE: View opening spill file for output observations.
NOTE: View opening spill file for output observations.
NOTE: View opening spill file for output observations.
NOTE: View opening spill file for output observations.
NOTE: View opening spill file for output observations.
NOTE: View opening spill file for output observations.
NOTE: View opening spill file for output observations.
NOTE: View opening spill file for output observations.
NOTE: View opening spill file for output observations.
NOTE: View opening spill file for output observations.
NOTE: View opening spill file for output observations.
NOTE: 1243 observations were read from "WORK.trash202"
NOTE: 516 observations were read from "WORK.trash203"
NOTE: 2327 observations were read from "WORK.trash204"
NOTE: 950 observations were read from "WORK.trash205"
NOTE: 1243 observations were read from "WORK.trash206"
NOTE: 4118 observations were read from "WORK.trash207"
23                                       The WPS System   10:27 Wednesday, October 17, 2018     

NOTE: 1689 observations were read from "WORK.trash208"
NOTE: 1383 observations were read from "WORK.trash209"
NOTE: 1332 observations were read from "WORK.trash210"
NOTE: 1354 observations were read from "WORK.trash211"
NOTE: 313 observations were read from "WORK.trash212"
NOTE: Data set "WORK.trash213" has 4118 observation(s) and 12 variable(s)
NOTE: The data step took :
      real time : 0.434
      cpu time  : 0.039


793       
794       *** Merge with the original Sample and use counts of zero when no admissions;
795       PROC SQL;
796       Create Table temp.IP as
797       Select
798       	a.enrolid,
799       	max(0,b.CountAdm3mAll)			as CountAdm3mAll,
800       	max(0,b.CountAdm3mChronic)		as CountAdm3mChronic,
801       	max(0,b.CountAdm6mAll)			as CountAdm6mAll,
802       	max(0,b.CountAdm6mChronic)		as CountAdm6mChronic,
803       	max(0,b.SumLOS3mAll)			as SumLOS3mAll,
804       	min(365,DaysAnyAdm)				as DaysAnyAdm,
805       	min(365,DaysChronicAdm)			as DaysChronicAdm,
806       	min(365,DaysSurgAdm)			as DaysSurgAdm,
807       	min(365,DaysMedicalAdm)			as DaysMedicalAdm,
808       	min(365,DaysMtrntyAdm)			as DaysMtrntyAdm,
809       	min(365,DaysMHSAAdm)			as DaysMHSAAdm
810       From
811       	(Select distinct enrolid from temp.SamplewClassification) as a
812       Left Join
813       	work.trash213 as b
814       On
815       	a.enrolid=b.enrolid
816       Order by
817       	a.enrolid;
NOTE: View opening spill file for output observations.
NOTE: Data set "TEMP.IP" has 82252 observation(s) and 12 variable(s)
818       
819       
820       *** summarize the drugs data ***;
821       ********************************;
822       
823       *** get all the drugs data from the matched IDs;
NOTE: Procedure SQL step took :
      real time : 1.697
      cpu time  : 0.379


824       PROC SQL;
825       Create Table trash301 as select distinct
826       	a.enrolid,
827       	a.svcdate,
24                                       The WPS System   10:27 Wednesday, October 17, 2018     

828       	a.daysupp,
829       	a.ndcnum,
830       	a.generid,
831       	a.thercls,
832       	a.pay
833       From
834       	arch&year..ccaed&MSversion.			as a,
835       	temp.SamplewClassification	as b
836       Where
837       	a.enrolid=b.enrolid
838       Order by
839       	a.enrolid,
840       	a.svcdate;
NOTE: Data set "WORK.trash301" has 995481 observation(s) and 7 variable(s)
841       
842       *** bring in the maintenance flag for the Rx based on metadata table;
843       Create Table temp.SampleRx1 as select
844       	a.*,
845       	b.category
846       From
847       	trash301			as a
848       Left Join
849       	temp.ChronicRx		as b
850       On
851       	a.ndcnum=b.ndcnum
852       Order by
853       	a.enrolid,
854       	a.svcdate;
NOTE: Data set "TEMP.SampleRx1" has 995481 observation(s) and 8 variable(s)
855       ;
856       Quit;
NOTE: Procedure SQL step took :
      real time : 11:35.236
      cpu time  : 2:35.517


857       
858       /*** check some counts of patients/drugs in the data selected above;
859       PROC SQL;
860       select count (distinct enrolid) as count_ids from temp.SampleRx1;
861       select mean(count_drugs) as average_drugs from (select enrolid format=15.0, count(dist
861     ! inct ndcnum) as count_drugs from temp.SampleRx1 group by enrolid);*/
862       
863       *** count of maintenance drugs 1 year;
864       proc sql;
865       Create View work.trash302 as
866       		Select
867       			enrolid,
868       			max((category="Maintenance")) as FlagChronicRx
869       		From
870       			temp.SampleRx1
871       		Group By
872       			enrolid;
25                                       The WPS System   10:27 Wednesday, October 17, 2018     

NOTE: View WORK.trash302 successfully created
873       
874       
875       *** count of the new maintenance drugs in the past 90 days where no drugs in same ther
875     ! cls is found before;
NOTE: Procedure sql step took :
      real time : 0.011
      cpu time  : 0.001


876       proc sql;
877       Create View work.trash3031 as
878       		Select
879       			enrolid,
880       			thercls,
881       			min(svcdate) as dateafter format=date10.
882       		From
883       			temp.SampleRx1
884       		Where
885       			category="Maintenance"	and
886       			svcdate > &StartDate.-90
887       		Group by
888       			enrolid,
889       			thercls;
NOTE: View WORK.trash3031 successfully created
890       
891       Create View work.trash3032 as
892       		Select distinct
893       			enrolid,
894       			thercls,
895       			max(svcdate) as datebefore format=date10.
896       		From
897       			temp.SampleRx1
898       		Where
899       			category="Maintenance"	and
900       			svcdate <= &StartDate.-90
901       		Group by
902       			enrolid,
903       			thercls;
NOTE: View WORK.trash3032 successfully created
904       
905       Create View work.trash303 as
906       		Select
907       			a.enrolid,
908       			max((a.thercls^=b.thercls))			as	FlagNewChronicRx
909       		From
910       			work.trash3031 as a
911       		Left Join
912       			work.trash3032 as b
913       		On
914       			a.enrolid=b.enrolid and
915       			a.thercls=b.thercls
916       		Group by
26                                       The WPS System   10:27 Wednesday, October 17, 2018     

917       			a.enrolid;
NOTE: View WORK.trash303 successfully created
918       
919       *** count of days supply in the past 90/180 days;
NOTE: Procedure sql step took :
      real time : 0.052
      cpu time  : 0.002


920       proc sql;
921       Create View work.trash304 as
922       		Select
923       			enrolid,
924       			sum(daysupp*(svcdate > &StartDate.-90)) 							as CountDaysSupp3m,
925       			sum(daysupp*(svcdate > &StartDate.-180))							as CountDaysSupp6m,
926       			sum(daysupp*(svcdate > &StartDate.-90) *(category="Maintenance")) 	as CountDaysSupp
926     ! Chronic3m,
927       			sum(daysupp*(svcdate > &StartDate.-180)*(category="Maintenance")) 	as CountDaysSupp
927     ! Chronic6m,
928       			sum(daysupp*(svcdate > &StartDate.-90) * max(thercls in (&OpiatesTCLS.),generid in 
928     ! (&OpiatesGNID.))) 	as CountDaysSuppOpiates3m,
WARNING: Macro variable "&OpiatesTCLS" was not resolved
WARNING: Macro variable "&OpiatesGNID" was not resolved
929       			sum(daysupp*(svcdate > &StartDate.-180)* max(thercls in (&OpiatesTCLS.),generid in 
929     ! (&OpiatesGNID.))) 	as CountDaysSuppOpiates6m
WARNING: Macro variable "&OpiatesTCLS" was not resolved
WARNING: Macro variable "&OpiatesGNID" was not resolved
930       		From
931       			temp.SampleRx1
932       		Group by
ERROR: Expected a comma, numeric literal, date literal, datetime literal, time literal or string
       literal.
933       			enrolid;
NOTE: Statements not executed because of errors detected
934       
935       *** count of unique all/maintenance(Chronic) therapeutic classes  in the past 90/180 d
935     ! ays;
NOTE: Procedure sql step took :
      real time : 0.001
      cpu time  : 0.000


936       proc sql;
937       Create View work.trash305 as
938       		Select
939       			enrolid,
940       			count(distinct thercls)		as CountTherClass3m
941       		From
942       			temp.SampleRx1
943       		Where
944       			svcdate > &StartDate.-90
945       		Group by
946       			enrolid;
27                                       The WPS System   10:27 Wednesday, October 17, 2018     

NOTE: View WORK.trash305 successfully created
NOTE: Procedure sql step took :
      real time : 0.008
      cpu time  : 0.001


947       
948       proc sql;
949       Create View work.trash306 as
950       		Select
951       			enrolid,
952       			count(distinct thercls)		as CountTherClass6m
953       		From
954       			temp.SampleRx1
955       		Where
956       			svcdate > &StartDate.-180
957       		Group by
958       			enrolid;
NOTE: View WORK.trash306 successfully created
NOTE: Procedure sql step took :
      real time : 0.013
      cpu time  : 0.000


959       
960       proc sql;
961       Create View work.trash307 as
962       		Select
963       			enrolid,
964       			count(distinct thercls)		as CountTherClassChronic3m
965       		From
966       			temp.SampleRx1
967       		Where
968       			svcdate > &StartDate.-90	and
969       			category="Maintenance"
970       		Group by
971       			enrolid;
NOTE: View WORK.trash307 successfully created
NOTE: Procedure sql step took :
      real time : 0.011
      cpu time  : 0.000


972       
973       proc sql;
974       Create View work.trash308 as
975       		Select
976       			enrolid,
977       			count(distinct thercls)		as CountTherClassChronic6m
978       		From
979       			temp.SampleRx1
980       		Where
981       			svcdate > &StartDate.-180	and
28                                       The WPS System   10:27 Wednesday, October 17, 2018     

982       			category="Maintenance"
983       		Group by
984       			enrolid;
NOTE: View WORK.trash308 successfully created
985       
986       *** put all the drugs related variables together;
NOTE: Procedure sql step took :
      real time : 0.017
      cpu time  : 0.000


987       DATA
988       	work.trash311;
989       Merge
990       	trash302(in=a)
991       	trash303(in=b)
992       	trash304(in=c)
          	^
ERROR: Data set "WORK.trash304" not found
993       	trash305(in=d)
994       	trash306(in=e)
995       	trash307(in=f)
996       	trash308(in=g);
997       By
998       	enrolid;
999       If
1000      	a or b or c or d or e or f or g;
1001      run;

NOTE: DATA step was not executed because of errors detected
NOTE: The data step took :
      real time : 0.013
      cpu time  : 0.002


1002      
1003      *** Merge with the original Sample and use counts of zero when no admissions;
1004      PROC SQL;
1005      Create Table temp.Rx as
1006      Select
1007      	a.enrolid,
1008      	max(0,b.FlagChronicRx)				as FlagChronicRx,
1009      	max(0,b.FlagNewChronicRx)			as FlagNewChronicRx,
1010      	max(0,b.CountDaysSupp3m)			as CountDaysSupp3m,
1011      	max(0,b.CountDaysSupp6m)			as CountDaysSupp6m,
1012      	max(0,b.CountDaysSuppChronic3m)		as CountDaysSuppChronic3m,
1013      	max(0,b.CountDaysSuppChronic6m)		as CountDaysSuppChronic6m,
1014      	max(0,b.CountDaysSuppOpiates3m)		as CountDaysSuppOpiates3m,
1015      	max(0,b.CountDaysSuppOpiates6m)		as CountDaysSuppOpiates6m,
1016      	max(0,b.CountTherClass3m)			as CountTherClass3m,
1017      	max(0,b.CountTherClass6m)			as CountTherClass6m,
1018      	max(0,b.CountTherClassChronic3m)	as CountTherClassChronic3m,
1019      	max(0,b.CountTherClassChronic6m)	as CountTherClassChronic6m
29                                       The WPS System   10:27 Wednesday, October 17, 2018     

1020      From
1021      	(Select distinct enrolid from temp.SamplewClassification) as a
1022      Left Join
1023      	work.trash311 as b
1024      On
1025      	a.enrolid=b.enrolid
1026      Order by
1027      	a.enrolid;
ERROR: Data set "WORK.trash311" not found
1028      
1029      
1030      *** summarize the diagnosis from both OP+IP data ***;
1031      ****************************************************;
1032      
1033      *** prepare the data for AE;
NOTE: Statements not executed because of errors detected
1034      *** get all the inpatient and outpatient data from the matched IDs and the variables n
1034    ! eeded to run DS in Analytics Engine;
NOTE: Procedure SQL step took :
      real time : 0.020
      cpu time  : 0.011


1035      PROC SQL;
1036      Create Table trash401 as select
1037      	a.enrolid 														as patient_id,
1038      	'F' 															as fac_prof,
1039      	'I'||strip(put(a.seqnum,15.)) 									as record_identifier,
1040      	a.age 															as age,
1041      	case a.sex when '1' then 'M' when '2' then 'F' else ' ' end 	as sex,
1042      	a.proc1 														as icd_proc1,
1043      	'9' 															as icd_flag,
1044      	a.dx1 															as dx1,
1045      	a.dx2 															as dx2,
1046      	a.dx3 															as dx3,
1047      	a.dx4 															as dx4,
1048      	'I' 															as rec_type,
1049      	' ' 															as std_place,
1050      	admtyp															as custom1,
1051      	svcscat 														as custom2,
1052      	svcdate															as custom3
1053      From
1054      	arch&year..ccaes&MSversion.			as a,
1055      	temp.SamplewClassification	as b
1056      Where
1057      	a.enrolid=b.enrolid
1058      Order by
1059      	patient_id,
1060      	record_identifier;
NOTE: Data set "WORK.trash401" has 180807 observation(s) and 16 variable(s)
1061      ;
1062      
1063      Create Table trash402 as select
